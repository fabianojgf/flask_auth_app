{% extends "account/profile/profile.html" %}

{% block content_profile %}

<form method="POST" action="/profile/security" class="form-horizontal" autocomplete="off">
    <h3 class="fieldset-title">Alteração de Senha</h3>

    <div class="columns">
        <div class="column is-3">
            <figure class="image is-square">
                <img class="is-rounded" src="../../static/img/user_empty.jpg" alt="">
            </figure>
        </div>
        <div class="column">
            <fieldset>
                <div class="field">
                    <label class="label">Nome</label>
                    <p class="control has-icons-left">
                        <input class="input is-info" type="name" name="name" id="name" 
                            value="{{user.name}}" disabled>
                        <span class="icon is-small is-left">
                            <i class="fa fa-user"></i>
                        </span>
                    </p>
                </div>
                <div class="field">
                    <label class="label">Email</label>
                    <p class="control has-icons-left">
                        <input class="input is-info" type="email" name="email" id="email" 
                            value="{{user.email}}" disabled>
                        <span class="icon is-small is-left">
                            <i class="fa fa-envelope"></i>
                        </span>
                    </p>
                </div>
                <div class="field">
                    <label class="label">Tipo de Usuário</label>
                    <p class="control has-icons-left">
                        <span class="select">
                            <select disabled>
                                <option value="0">Selecione</option>
                                {% for userType in userTypes %}
                                <option value="{{ userType.id }}" {{ 'selected' if userType.id == user.user_type_id else '' }}>{{ userType.description }}
                                </option>
                                {% endfor %}
                            </select>
                        </span>
                        <span class="icon is-small is-left">
                            <i class="fa fa-gavel"></i>
                        </span>
                    </p>
                </div>
                <div class="field">
                    <label class="label">Nova Senha</label>
                    <p class="control has-icons-left has-icons-right password-container">
                        <input class="input is-info" type="password" name="new-password" id="new-password" placeholder="New Password" autocomplete="new-password">
                        <span class="icon is-small is-left">
                            <i class="fa fa-lock"></i>
                        </span>
                        <i class="fa fa-eye"></i>                        
                    </p>
                </div>
                <div class="field">
                    <label class="label">Repita a Nova Senha</label>
                    <p class="control has-icons-left has-icons-right password-container">
                        <input class="input is-info" type="password" name="new-password-repeat" id="new-password-repeat" placeholder="Repeat New Password" autocomplete="new-password">
                        <span class="icon is-small is-left">
                            <i class="fa fa-lock"></i>
                        </span>
                        <i class="fa fa-eye"></i>                        
                    </p>
                </div>
                <div class="field">
                    <label class="label">Senha Atual</label>
                    <p class="control has-icons-left has-icons-right password-container">
                        <input class="input is-info" type="password" name="current-password" id="current-password" placeholder="Current Password" autocomplete="new-password">
                        <span class="icon is-small is-left">
                            <i class="fa fa-lock"></i>
                        </span>
                        <i class="fa fa-eye"></i>                        
                    </p>
                </div>
            </fieldset>
        </div>
    </div>
    <hr>
    <div class="column form_footer">
        <div class="field">
            <input class="button is-info" type="submit" value="Salvar">
        </div>
    </div>
</form>

<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(event) {
        inativeMenuItens();
        enableChangeVisibilityPassword();

        var liElement = document.getElementById("profile_menu_security");
        liElement.classList.add("active"); 
    });
</script>

{% endblock %}